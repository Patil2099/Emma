



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Developer Guide - Emma Memmory and Mapfile Analyser</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="assets/javascripts/modernizr.74668098.js"></script>
    
    
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="amber">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#developer-guide" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="Emma Memmory and Mapfile Analyser" class="md-header-nav__button md-logo">
          
            <i class="md-icon">üîç</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Emma Memmory and Mapfile Analyser
            </span>
            <span class="md-header-nav__topic">
              
                Developer Guide
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/bmwcarit/Emma.git/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Emma Memmory and Mapfile Analyser
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="Emma Memmory and Mapfile Analyser" class="md-nav__button md-logo">
      
        <i class="md-icon">üîç</i>
      
    </a>
    Emma Memmory and Mapfile Analyser
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/bmwcarit/Emma.git/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Emma Memmory and Mapfile Analyser
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="readme-emma.html" title="Emma" class="md-nav__link">
      Emma
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="readme-vis.html" title="Emma Visualiser" class="md-nav__link">
      Emma Visualiser
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="test_project/readme.html" title="Test Project" class="md-nav__link">
      Test Project
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Developer Guide
      </label>
    
    <a href="dev-guide.html" title="Developer Guide" class="md-nav__link md-nav__link--active">
      Developer Guide
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contribution-guide" class="md-nav__link">
    Contribution guide
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtain-the-current-version-of-the-source-code" class="md-nav__link">
    Obtain the current version of the source code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#describe-your-changes" class="md-nav__link">
    Describe your changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linking-referencing-documentation" class="md-nav__link">
    Linking, referencing &amp; documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-specific" class="md-nav__link">
    Implementation specific
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-and-review-your-code" class="md-nav__link">
    Test and review your code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-and-act-on-the-review-process" class="md-nav__link">
    Check and act on the review process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sign-your-work" class="md-nav__link">
    Sign your work
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-the-pull-request" class="md-nav__link">
    Do the pull request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coding-guidelines" class="md-nav__link">
    Coding guidelines
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#style" class="md-nav__link">
    Style
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-handling" class="md-nav__link">
    Path handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raising-exceptions" class="md-nav__link">
    Raising exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-compiler-support" class="md-nav__link">
    Adding compiler support
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compiler-handling" class="md-nav__link">
    Compiler handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-classes-that-need-to-be-added" class="md-nav__link">
    New classes that need to be added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-need-to-be-done-on-the-existing-codebase" class="md-nav__link">
    Changes need to be done on the existing codebase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-functionality-of-the-new-components" class="md-nav__link">
    Expected functionality of the new components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-changes-to-project-and-documentation-after-adding-a-new-compiler-support" class="md-nav__link">
    Expected changes to project and documentation after adding a new compiler support
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colour-palette" class="md-nav__link">
    Colour palette
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contribution-guide" class="md-nav__link">
    Contribution guide
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtain-the-current-version-of-the-source-code" class="md-nav__link">
    Obtain the current version of the source code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#describe-your-changes" class="md-nav__link">
    Describe your changes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    General
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linking-referencing-documentation" class="md-nav__link">
    Linking, referencing &amp; documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-specific" class="md-nav__link">
    Implementation specific
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-and-review-your-code" class="md-nav__link">
    Test and review your code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-and-act-on-the-review-process" class="md-nav__link">
    Check and act on the review process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sign-your-work" class="md-nav__link">
    Sign your work
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-the-pull-request" class="md-nav__link">
    Do the pull request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coding-guidelines" class="md-nav__link">
    Coding guidelines
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#style" class="md-nav__link">
    Style
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-handling" class="md-nav__link">
    Path handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raising-exceptions" class="md-nav__link">
    Raising exceptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-compiler-support" class="md-nav__link">
    Adding compiler support
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compiler-handling" class="md-nav__link">
    Compiler handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-classes-that-need-to-be-added" class="md-nav__link">
    New classes that need to be added
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-need-to-be-done-on-the-existing-codebase" class="md-nav__link">
    Changes need to be done on the existing codebase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-functionality-of-the-new-components" class="md-nav__link">
    Expected functionality of the new components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-changes-to-project-and-documentation-after-adding-a-new-compiler-support" class="md-nav__link">
    Expected changes to project and documentation after adding a new compiler support
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colour-palette" class="md-nav__link">
    Colour palette
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bmwcarit/Emma.git/edit/master/docs/dev-guide.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="developer-guide">Developer Guide<a class="headerlink" href="#developer-guide" title="Permanent link">&para;</a></h1>
<h2 id="contribution-guide">Contribution guide<a class="headerlink" href="#contribution-guide" title="Permanent link">&para;</a></h2>
<p>This guide will assist you in order to successfully submit contributions for the Emma project.  </p>
<h3 id="obtain-the-current-version-of-the-source-code">Obtain the current version of the source code<a class="headerlink" href="#obtain-the-current-version-of-the-source-code" title="Permanent link">&para;</a></h3>
<p>Assure that you are working with the latest stable version.</p>
<h3 id="describe-your-changes">Describe your changes<a class="headerlink" href="#describe-your-changes" title="Permanent link">&para;</a></h3>
<p>Absolutely describe your changes regardless of what problem you solved nor how complex your changes are. Keep the following points in mind:</p>
<h4 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h4>
<ul>
<li>What is your motivation to do to this change?</li>
<li>Why it is worth fixing?</li>
<li>How will it affect end-user?</li>
<li>If optimisations were done - quantify them. Present trade-offs (e.g. run-time vs. memory).</li>
<li>Evaluate your contribution objectively. What are pro's, con's?</li>
<li>One contribution should solve only one problem. If not split it.</li>
<li>Your description should be self-explanatory (avoiding external resources).</li>
</ul>
<h4 id="linking-referencing-documentation">Linking, referencing &amp; documentation<a class="headerlink" href="#linking-referencing-documentation" title="Permanent link">&para;</a></h4>
<ul>
<li>If you link to tickets/mailing lists etc. reference to them. Summarise what is its principal outcome.</li>
<li>When referencing specific commits: state the commit ID (use the long hash) + (!) the commit massage in order to make it more readable for the reviewer.</li>
</ul>
<h4 id="implementation-specific">Implementation specific<a class="headerlink" href="#implementation-specific" title="Permanent link">&para;</a></h4>
<ul>
<li>How you solved the problem?</li>
<li>If your solution is complex: provide an introduction before going into details. </li>
<li>If your patch your solution describe what you have done and why.</li>
</ul>
<h3 id="test-and-review-your-code">Test and review your code<a class="headerlink" href="#test-and-review-your-code" title="Permanent link">&para;</a></h3>
<p>Test it on a clean environment.</p>
<p>Review your code with regards to our <a href="#coding-guidelines">coding guidelines</a>.</p>
<h3 id="check-and-act-on-the-review-process">Check and act on the review process<a class="headerlink" href="#check-and-act-on-the-review-process" title="Permanent link">&para;</a></h3>
<p>You may receive comments regarding your submission. In order to be considered you must respond to those comments. </p>
<h3 id="sign-your-work">Sign your work<a class="headerlink" href="#sign-your-work" title="Permanent link">&para;</a></h3>
<p>You must sign the <a href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a> for any submission. We use this to keep track of who contributed what. Additionaly you certify that the contribution is your own work or you have the right to pass it on as an open-source patch.</p>
<p><strong>To do so you read the DCO and agree by adding a "sign-off" line at the end of the explanation of the patch like in the example below:</strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Signed-off-by: Joe Contrib &lt;joe.contrib@somedomain.com&gt;
</pre></div>
</td></tr></table>

<p>Fill in your full name (no pseudonyms) and your email address surrounded by angle brackets.</p>
<p>Small or formal changes can be done in square bracket notation:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Signed</span><span class="o">-</span><span class="k">off</span><span class="o">-</span><span class="k">by</span><span class="err">:</span><span class="w"> </span><span class="n">Joe</span><span class="w"> </span><span class="n">Contrib</span><span class="w"> </span><span class="o">&lt;</span><span class="n">joe</span><span class="p">.</span><span class="n">contrib</span><span class="nv">@somedomain</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="o">[</span><span class="n">alice.maintain@somedomain.com: struct foo moved from foo.c to foo.h</span><span class="o">]</span><span class="w"></span>
<span class="n">Signed</span><span class="o">-</span><span class="k">off</span><span class="o">-</span><span class="k">by</span><span class="err">:</span><span class="w"> </span><span class="n">Alice</span><span class="w"> </span><span class="n">Maintain</span><span class="w"> </span><span class="o">&lt;</span><span class="n">alice</span><span class="p">.</span><span class="n">maintain</span><span class="nv">@somedomain</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</td></tr></table>

<h3 id="do-the-pull-request">Do the pull request<a class="headerlink" href="#do-the-pull-request" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">git</span> <span class="n">request</span><span class="o">-</span><span class="n">pull</span> <span class="n">master</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">repo</span><span class="o">-</span><span class="n">url</span><span class="p">.</span><span class="n">git</span> <span class="n">my</span><span class="o">-</span><span class="n">signed</span><span class="o">-</span><span class="n">tag</span>
</pre></div>
</td></tr></table>

<p>See also <a href="https://help.github.com/en/articles/requesting-a-pull-request-review">here</a> for more information about pull requests in general on GitHub.</p>
<hr />
<h2 id="coding-guidelines">Coding guidelines<a class="headerlink" href="#coding-guidelines" title="Permanent link">&para;</a></h2>
<p>Generally <a href="https://github.com/python/peps/blob/master/pep-0008.txt">PEP-8</a> or the <a href="https://github.com/google/styleguide/blob/gh-pages/pyguide.md">Google style guide</a> apply. However we deviate slightly from this (see the following sections). </p>
<p><strong>If in doubt run <a href="https://www.pylint.org/">pylint</a> by using our pylint configuration file (<code>.pylintrc</code>).</strong></p>
<h3 id="style">Style<a class="headerlink" href="#style" title="Permanent link">&para;</a></h3>
<ul>
<li>Naming conventions<ul>
<li>mixedCase (camelCase and PascalCase is used)</li>
<li><strong>Methods/functions</strong> and <strong>variables</strong> start with a minuscule (<strong>camelCase</strong>)</li>
<li><a href="https://www.python.org/dev/peps/pep-0008/#class-names"><strong>Class names</strong></a> names start with a majuscule (<strong>PascalCase</strong>)</li>
<li>Global variables: <code>CAPS_WITH_UNDER</code></li>
</ul>
</li>
<li>Max line length rule is ignored since it decreases readability, use line-breaks where appropriate</li>
<li>Imports in Python<ul>
<li>The imports need to be separated from other parts of the file with 2-2 blank lines above and under</li>
<li>They need to be grouped into the following three groups:<ul>
<li>Python Standard Library Imports</li>
<li>3rd Party Imports</li>
<li>Emma Imports</li>
</ul>
</li>
<li>The groups need to be in the same order as in the previous list and they need to be separated from each other with a single blank line</li>
<li>Only packages and modules shall be imported, individual classes and functions not</li>
<li>Imports shall not use renaming</li>
<li>There are some exceptions:<ul>
<li>Importing from shared_libs.stringConstants shall be done in the following way: <code>from shared_libs.stringConstants import *</code></li>
<li>Importing the <code>pyipiscout</code> library shall be done in the following way: <code>import pypiscout as sc</code></li>
</ul>
</li>
</ul>
</li>
<li>British English shall be used in function names and comments<ul>
<li>Exceptions:<ul>
<li><code>map file</code> is always written as <code>mapfile</code></li>
</ul>
</li>
</ul>
</li>
<li><code>TODO</code>, <code>FIXME</code> and similar tags should be in the format: <code># TODO: This is my TODO (&lt;author&gt;)</code><ul>
<li>First letter in the comment is a majuscule</li>
<li>The comment ends with the name of the author or with an unique and consistent abbreviation/alias/username/pseudonym (preferably your initials if still available; if you are unsure check the <code>CONTRIBUTORS</code> file)</li>
</ul>
</li>
</ul>
<h3 id="path-handling">Path handling<a class="headerlink" href="#path-handling" title="Permanent link">&para;</a></h3>
<p>Use <code>os.path.normpath()</code> where appropriate. Using <code>/</code> and <code>\</code> can cause problems between OSes (even on Windows with WSL) and strange things could happen. Also prefer <code>joinPath()</code> (in <code>shared_libs.Emma_helper</code>) instetad of <code>os.path.join()</code>.</p>
<h3 id="raising-exceptions">Raising exceptions<a class="headerlink" href="#raising-exceptions" title="Permanent link">&para;</a></h3>
<ul>
<li>Exceptions should be avoided where possible. Instead use a descriptive error message using <code>SCout</code> and exit with <code>sys.exit(&lt;err-code&gt;)</code></li>
<li>the default error code is <code>-10</code></li>
<li>For the user it is hard to distinquish whether an exception was caused by a bug or wrong user input</li>
</ul>
<hr />
<h2 id="adding-compiler-support">Adding compiler support<a class="headerlink" href="#adding-compiler-support" title="Permanent link">&para;</a></h2>
<p>The Emma tool was created in order to collect information from mapfiles and write them to CSV documents.
These mapfiles are created by the compiler during the compilation of a software and their format is specific to the compiler used.</p>
<p>Emma was designed in a way, that adding support for new compilers is possible with only minor changes to the existing codebase.
This chapter explains what are the new components that need to be added and how to integrate them into Emma.</p>
<h3 id="compiler-handling">Compiler handling<a class="headerlink" href="#compiler-handling" title="Permanent link">&para;</a></h3>
<p>The globalConfig.json file of a configuration lists the configId-s of the project (see doc/readme-emma.md for more info on Emma configurations).
Every configId has a key "compiler" (for example see the <strong>doc/test_project</strong> configuration).
The value belonging to this key determines the classes used during runtime for the compiler specific tasks.</p>
<h3 id="new-classes-that-need-to-be-added">New classes that need to be added<a class="headerlink" href="#new-classes-that-need-to-be-added" title="Permanent link">&para;</a></h3>
<p>To implement the support for a new compiler, new classes need to be developed.
These will be responsible for reading the compiler specific parts of the configuration and for processing the mapfiles.
These classes should be located in the <strong>emma_libs</strong> folder, and it is recommended that they contain the name of the compiler they belong to as a prefix, for example: <strong>emma_libs/ghsConfiguration.py</strong></p>
<p>These new classes need to provide a specific interface. For this reason the following classes need to be subclassed:  </p>
<ul>
<li>From <strong>emma_libs/specificConfiguration.py</strong>: <code>SpecificConfiguration</code></li>
<li>From <strong>emma_libs/mapfileProcessor.py</strong>: <code>MapfileProcessor</code>  </li>
</ul>
<h3 id="changes-need-to-be-done-on-the-existing-codebase">Changes need to be done on the existing codebase<a class="headerlink" href="#changes-need-to-be-done-on-the-existing-codebase" title="Permanent link">&para;</a></h3>
<p>In order to integrate these new classes, the following changes need to be made:</p>
<ul>
<li>Adding name string constant for the new compiler<ul>
<li>The file <strong>shared_libs/stringConstants.py</strong> contains the names of the supported compiler</li>
<li>For consistency the name strings should follow the format defined in the <a href="https://cmake.org/cmake/help/v3.0/variable/CMAKE_LANG_COMPILER_ID.html">CMake documentation</a></li>
<li>Example: <code>COMPILER_NAME_GHS = "GHS"</code></li>
</ul>
</li>
<li>Extending the SpecificConfiguration factory<ul>
<li>The file <strong>emma_libs/specificConfigurationFactory.py</strong> contains the function <code>createSpecificConfiguration(compiler, **kwargs)</code></li>
<li>This function is responsible for creating objects of subclasses of the <code>SpecificConfiguration</code> class that are specific to a compiler</li>
<li>Here, using the previously defined compiler name constant a new entry has to be made</li>
</ul>
</li>
<li>Extending the MapfileProcessor factory<ul>
<li>The file <strong>emma_libs/mapfileProcessorFactory.py</strong> contains the function <code>createSpecificMapfileProcesor(compiler, **kwargs)</code></li>
<li>This function is responsible for creating objects of subclasses of the <code>MapFileProcessor</code> class that are specific to a compiler</li>
<li>Here, using the previously defined compiler name constant a new entry has to be made</li>
</ul>
</li>
</ul>
<h3 id="expected-functionality-of-the-new-components">Expected functionality of the new components<a class="headerlink" href="#expected-functionality-of-the-new-components" title="Permanent link">&para;</a></h3>
<p>The previously mentioned abstract classes from which the new classes need to inherit, describe the prototypes of the methods that need to be implemented in their docstrings.
During runtime these methods (the ones with green background) will be called in the following order:</p>
<div align="center"> <img src="images/emmaAddingCompilerSupportActivityDiagram.png" width="700"> </div>

<p>The methods need to implement the following functionality:</p>
<ul>
<li>
<p><code>readConfiguration()</code></p>
<ul>
<li>Process all the config files under the <code>configurationPath</code> that are belonging to the <code>configId</code>, the function was called with</li>
<li>Extend the <code>configuration</code> dictionary that was given to the function with the data extracted (this already contains the compiler independent configuration)</li>
<li>Collect the mapfiles from the <code>mapfilesPath</code> based on the configuration</li>
</ul>
</li>
<li>
<p><code>checkConfiguration()</code></p>
<ul>
<li>Check whether the <code>configuration</code> belonging to the <code>configId</code> is valid, meaning that the mapfile processing will be possible with it</li>
<li>Return <code>True</code> for a valid <code>configuration</code>, <code>False</code> otherwise (in the <code>False</code> case, Emma might skip the mapfile processing for this <code>configId</code>)</li>
</ul>
</li>
<li>
<p><code>processMapfiles()</code></p>
<ul>
<li>Create and return <strong>two</strong> lists of <code>MemEntry</code> objects that are representing the sections and objects found in the mapfiles respectively</li>
<li>The lists need to be ordered in an ascending order based on the <code>addressStart</code> of the <code>MemEntry</code> objects </li>
<li>The following members need to be filled out in the <code>MemEntry</code> objects:<ul>
<li><code>configId</code></li>
<li><code>mapfileName</code></li>
<li><code>addressStart</code></li>
<li><code>addressLength</code> or <code>addressEnd</code></li>
<li><code>sectionName</code></li>
<li><code>objectName</code></li>
<li><code>compilerSpecificData</code></li>
</ul>
</li>
<li>Before returning, call the <code>MapfileProcessor::fillOutMemoryRegionsAndMemoryTypes()</code> on the created lists to fill out the <code>memTypeTag</code> and <code>memType</code> members</li>
</ul>
</li>
</ul>
<h3 id="expected-changes-to-project-and-documentation-after-adding-a-new-compiler-support">Expected changes to project and documentation after adding a new compiler support<a class="headerlink" href="#expected-changes-to-project-and-documentation-after-adding-a-new-compiler-support" title="Permanent link">&para;</a></h3>
<p>To make it possible for users and other contributors to easily get started with the added new support, the following non code related changes need to made:</p>
<ul>
<li>Add a test project with a step-by-step introduction to the <strong>doc</strong> folder. Take the <strong>doc/test_project</strong> as example.</li>
<li>Add a chapter to the <strong>doc/readme-emma.md</strong> describing the configuration of the new compiler. Take the chapter <strong>Formal Definition of the GHS compiler specific configuration</strong> as example.</li>
<li>After changing the Markdown files, please re-generate the HTML files with the <strong>genDoc/genReadmeHtmlFromMd.py</strong> script, using the <code>--no_graphs</code> command line argument.</li>
</ul>
<hr />
<h2 id="colour-palette">Colour palette<a class="headerlink" href="#colour-palette" title="Permanent link">&para;</a></h2>
<p>The following colour palette is used for the documentation:</p>
<table>
<thead>
<tr>
<th>Colour</th>
<th>HSL(A)</th>
<th>RGB(A)</th>
<th>RGBA (hex)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Yellow</td>
<td>34, 255, 192</td>
<td>255, 230, 128</td>
<td>ffe680ff</td>
</tr>
<tr>
<td>Light orange</td>
<td>17, 255, 213</td>
<td>255, 204, 170</td>
<td>ffccaaff</td>
</tr>
<tr>
<td>Dark orange</td>
<td>17, 145, 204</td>
<td>233, 198, 175</td>
<td>e9c6afff</td>
</tr>
<tr>
<td>Light blue</td>
<td>136, 145, 204</td>
<td>175, 221, 233</td>
<td>afdde9ff</td>
</tr>
<tr>
<td>Green</td>
<td>68, 145, 204</td>
<td>198, 233, 175</td>
<td>c6e9afff</td>
</tr>
<tr>
<td>Light grey</td>
<td>0, 0, 236</td>
<td>236, 236, 236</td>
<td>ecececff</td>
</tr>
<tr>
<td>Grey</td>
<td>0, 0, 204</td>
<td>204, 204, 204</td>
<td>ccccccff</td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="test_project/readme.html" title="Test Project" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Test Project
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            The Emma Authors
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="assets/fonts/font-awesome.css">
    
      <a href="https://github.com/bmwcarit/Emma" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
    
  </body>
</html>